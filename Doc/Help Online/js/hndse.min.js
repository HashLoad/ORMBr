/*!
 * HND JavaScript search engine
 * Copyright (C) IBE Software - All rights reserved.
 * Can only be used in documentation generated by HelpNDoc: http://www.helpndoc.com
 */
var Score;!function(r){r[r.TopicNumber=0]="TopicNumber",r[r.TopicScore=1]="TopicScore"}(Score||(Score={}));var HndJsSeResultScore=function(){function r(){this.scores=[]}return r.prototype.FindTopicIndex=function(r){for(var e=0;e<this.scores.length;e++){if(this.scores[e][Score.TopicNumber]===r)return e}return-1},r.prototype.AddTopics=function(r){var e=this;if(!r||!r.forEach)return void console.error("Invalid AddTopics call");r.forEach(function(r){if(!r||!Array.isArray(r)||2!==r.length)return void console.error("Invalid data in AddTopics");var o=r[Score.TopicNumber],t=r[Score.TopicScore];if("number"!=typeof o||o<0||"number"!=typeof t||t<0)return void console.error("Invalid topic data in AddTopics");var c=e.FindTopicIndex(o);c>-1?e.scores[c][Score.TopicScore]=e.scores[c][Score.TopicScore]+t:e.scores.push([o,t])})},r.prototype.Clear=function(){this.scores=[]},r.prototype.ExcludeTopics=function(r){var e=this;if(!r||!r.forEach)return void console.error("Invalid ExcludeTopics call");r.forEach(function(r){if(!r||!Array.isArray(r)||2!==r.length)return void console.error("Invalid data in ExcludeTopics");var o=r[Score.TopicNumber];if("number"!=typeof o||o<0)return void console.error("Invalid topic data in ExcludeTopics");var t=e.FindTopicIndex(o);t>-1&&e.scores.splice(t,1)})},r.prototype.SortByScore=function(){this.scores.sort(function(r,e){return r[Score.TopicScore]>e[Score.TopicScore]?-1:r[Score.TopicScore]<e[Score.TopicScore]?1:0})},r}(),HndJsSe=function(){function r(){this.Reset()}return r.prototype.Reset=function(){this.input="",this.inputWordsExcluded=[],this.inputWordsIncluded=[],this.inputWordsMandatory=[],this.resultScoreIncluded=new HndJsSeResultScore,this.resultScoreMandatory=new HndJsSeResultScore,this.resultScoreExcluded=new HndJsSeResultScore},r.prototype.ParseInput=function(r){this.Reset(),this.input=r.trim();for(var e,o=/[-+]?"[^"]+"|[-+]?[^"\s]+/g;e=o.exec(this.input);)if(e[0]){var t=e[0].trim().toLowerCase();if(""!=t){var c="";for("-"!==t[0]&&"+"!==t[0]||(c=t[0],t=t.substr(1));t.length>0&&'"'===t[0];)t=t.substr(1);for(;t.length>0&&'"'===t[t.length-1];)t=t.substr(0,t.length-1);switch(c){case"-":this.inputWordsExcluded.push(t);break;case"+":this.inputWordsIncluded.push(t);break;default:this.inputWordsMandatory.push(t)}}}},r.prototype.PerformSearch=function(r){var e=this;if(this.resultScoreIncluded=new HndJsSeResultScore,this.resultScoreMandatory=new HndJsSeResultScore,this.resultScoreExcluded=new HndJsSeResultScore,!r||!r.length)return void console.error("Invalid word list data");var o;r.forEach(function(r){if("string"==typeof r)o=r.trim().toLowerCase();else{if(!Array.isArray(r))return void console.error("Invalid element in word list data:",r);if(""==o)return void console.warn("Empty word should not be included in list");-1!==e.inputWordsIncluded.indexOf(o)&&e.resultScoreIncluded.AddTopics(r),-1!==e.inputWordsMandatory.indexOf(o)&&e.resultScoreMandatory.AddTopics(r),-1!==e.inputWordsExcluded.indexOf(o)&&e.resultScoreExcluded.AddTopics(r)}});var t=this.resultScoreIncluded;return t.AddTopics(this.resultScoreMandatory.scores),t.ExcludeTopics(this.resultScoreExcluded.scores),t.SortByScore(),t.scores},r}();